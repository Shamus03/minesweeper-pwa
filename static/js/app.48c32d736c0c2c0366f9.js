webpackJsonp([1],[,,,function(e,t,n){"use strict";t.a={name:"App"}},function(e,t,n){"use strict";var i=function(e){for(var t=e.width,n=e.height,i=e.mines,a=[],r=[],s=0;s<n;s++){for(var o=[],u=0;u<t;u++)o.push({flagged:!1,question:!1,mine:!1,hit:!1,revealed:!1}),r.push({i:s,j:u});a.push(o)}for(var c=0;c<i;c++){var l=Math.floor(Math.random()*r.length),h=r[l],d=h.i,f=h.j;r.splice(l,1),a[d][f].mine=!0}for(var g=0;g<n;g++)for(var m=0;m<t;m++){var v=[];g-1>=0&&(m-1>=0&&v.push(a[g-1][m-1]),v.push(a[g-1][m]),m+1<t&&v.push(a[g-1][m+1])),g+1<n&&(m-1>=0&&v.push(a[g+1][m-1]),v.push(a[g+1][m]),m+1<t&&v.push(a[g+1][m+1])),m-1>=0&&v.push(a[g][m-1]),m+1<t&&v.push(a[g][m+1]),a[g][m].neighbors=v}return a};t.a={data:function(){return{gameState:"idle",height:16,width:30,mines:40,grid:[]}},computed:{playing:function(){return"playing"===this.gameState},gridStyle:function(){return{width:16*this.grid[0].length+"px"}}},created:function(){this.playing||this.resetGame()},methods:{resetGame:function(){this.gameState="playing",this.grid=i({height:this.height,width:this.width,mines:this.mines})},onCellClick:function(e){var t=this;!this.playing||e.flagged||e.question||(e.revealed?e.mine||this.countAdjacentFlags(e)!==this.countAdjacentMines(e)||e.neighbors.forEach(function(e){e.flagged||e.question||t.checkMine(e),t.revealSafe(e)}):(this.checkMine(e),this.revealSafe(e)),this.checkWin())},onCellRightClick:function(e,t){e.preventDefault(),this.playing&&!t.revealed&&(t.flagged?(t.flagged=!1,t.question=!0):t.question?(t.flagged=!1,t.question=!1):(t.flagged=!0,t.question=!1),this.checkWin())},checkMine:function(e){e.mine&&(e.revealed=!0,e.hit=!0,this.gameState="lost",this.iterateCells(function(e){e.mine&&(e.revealed=!0)}))},revealSafe:function(e){var t=this;e.mine||e.revealed||(e.revealed=!0,0===this.countAdjacentMines(e)&&e.neighbors.forEach(function(e){t.revealSafe(e)}))},checkWin:function(){var e=!0,t=!0;this.iterateCells(function(n){n.mine&&!n.flagged&&(e=!1),n.mine||n.revealed||(t=!1)}),(e||t)&&(this.iterateCells(function(e){e.revealed=!0,e.mine&&(e.flagged=!0)}),this.gameState="won")},countAdjacentMines:function(e){return e.neighbors.reduce(function(e,t){return t.mine?e+1:e},0)},countAdjacentFlags:function(e){return e.neighbors.reduce(function(e,t){return t.flagged?e+1:e},0)},cellClass:function(e){return this.playing||!e.flagged||e.mine?e.revealed?e.mine?e.hit?"mine-hit":"won"===this.gameState?"flag":"mine":"mines"+this.countAdjacentMines(e):e.flagged?"flag":e.question?"question":"covered":"mine-misflagged"},iterateCells:function(e){for(var t=0;t<this.grid.length;t++)for(var n=this.grid[t],i=0;i<n.length;i++)e(n[i])}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(9),r=n(13);i.a.config.productionTip=!1,new i.a({el:"#app",router:r.a,template:"<App/>",components:{App:a.a}})},,,,function(e,t,n){"use strict";function i(e){n(10)}var a=n(3),r=n(12),s=n(2),o=i,u=s(a.a,r.a,!1,o,null,null);t.a=u.exports},function(e,t){},,function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],r={render:i,staticRenderFns:a};t.a=r},function(e,t,n){"use strict";var i=n(1),a=n(14),r=n(15);i.a.use(a.a),t.a=new a.a({routes:[{path:"/",name:"Minesweeper",component:r.a}]})},,function(e,t,n){"use strict";function i(e){n(16)}var a=n(4),r=n(17),s=n(2),o=i,u=s(a.a,r.a,!1,o,null,null);t.a=u.exports},function(e,t){},function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.playing?e._e():n("div",{staticClass:"content-inline"},["lost"===e.gameState?n("h2",[e._v("YOU LOSE")]):"won"===e.gameState?n("h2",[e._v("YOU WIN!!!")]):e._e(),e._v(" "),n("button",{on:{click:function(t){e.resetGame()}}},[e._v("Play Again")]),e._v("\n\n    height\n    "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.height,expression:"height",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.height},on:{input:function(t){t.target.composing||(e.height=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v("\n    width\n    "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.width,expression:"width",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.width},on:{input:function(t){t.target.composing||(e.width=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}}),e._v("\n    mines\n    "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.mines,expression:"mines",modifiers:{number:!0}}],attrs:{type:"number"},domProps:{value:e.mines},on:{input:function(t){t.target.composing||(e.mines=e._n(t.target.value))},blur:function(t){e.$forceUpdate()}}})]),e._v(" "),n("div",{staticClass:"ms-grid",style:e.gridStyle},e._l(e.grid,function(t,i){return n("div",{key:i,staticClass:"ms-row"},e._l(t,function(t,i){return n("div",{key:i,staticClass:"ms-cell",class:e.cellClass(t),on:{click:function(n){e.onCellClick(t)},contextmenu:function(n){e.onCellRightClick(n,t)}}},[e._v("\n        Â \n      ")])}))}))])},a=[],r={render:i,staticRenderFns:a};t.a=r}],[5]);
//# sourceMappingURL=app.48c32d736c0c2c0366f9.js.map